<!-- Generated by SpecStory -->

# # ðŸ§¹ RuneRogue COMPREHENSIVE Repository Cleanup - (2025-06-14 14:06:59)

_**User**_

# ðŸ§¹ RuneRogue COMPREHENSIVE Repository Cleanup - FINAL PHASE

## ðŸŽ¯ CRITICAL MISSION: Complete Full Repository Cleanup

You are tasked with completing the **FINAL COMPREHENSIVE CLEANUP** of the RuneRogue monorepo. Previous cleanup attempts were incomplete. This session must analyze **EVERY** file and directory systematically and complete all cleanup tasks.

## ðŸ“Š CURRENT STATE ANALYSIS

### Repository Statistics

- **Total Files**: 36,090+ files across all directories
- **Root Files**: Multiple configuration files with merge conflicts
- **Major Directories**: Mixture of active code, archives, and external dependencies
- **Known Issues**: Merge conflicts in README.md and .gitignore, empty server-ts directory, massive external-repos (3.7GB+)

## ðŸš¨ CRITICAL CLEANUP TASKS - MUST COMPLETE

### 1. Fix Merge Conflicts (PRIORITY 1)

```bash
# Files with merge conflicts that MUST be resolved:
- README.md (has <<<<<<< HEAD markers)
- .gitignore (has merge conflict markers)

# Action: Manually resolve these conflicts by:
1. Open each file
2. Remove all <<<<<<< HEAD, =======, and >>>>>>> markers
3. Keep the most comprehensive/recent version of content
4. Ensure files are valid and complete
```

### 2. Remove Empty/Obsolete Directories (PRIORITY 2)

```bash
# Directories to remove:
- server-ts/ (empty, replaced by packages/server/)
- node_modules/ (should be git-ignored)
- Any other empty directories

# Commands:
rmdir server-ts
rm -rf node_modules
```

### 3. Consolidate Duplicate Configuration Files (PRIORITY 3)

Check for and consolidate:

- Multiple tsconfig files
- Duplicate .env files
- Multiple jest configs
- Any other duplicate configs

### 4. Archive Historical Documentation (PRIORITY 4)

Move ALL historical status files to proper archive:

```bash
# Files like:
- docs/PHASE_*.md
- docs/MONOREPO_*.md
- docs/STATUS_*.md
- docs/NEXT_STEPS_*.md

# Move to:
docs/archive/phase-history/
docs/archive/status-reports/
docs/archive/planning/
```

### 5. Clean Up Scripts Directory (PRIORITY 5)

- Remove duplicate scripts
- Organize by category (build/, test/, utils/, mcp/)
- Update paths in package.json

### 6. Validate External Dependencies (PRIORITY 6)

The external-repos directory (3.7GB) needs evaluation:

- Determine if mcp-repos are actually used
- Move unused repos to archives
- Document why each external repo is needed

### 7. Update Workspace Configuration (PRIORITY 7)

Fix workspace configs to match actual structure:

- Update lerna.json packages array
- Fix package.json workspaces
- Update pnpm-workspace.yaml
- Ensure all point to correct directories

### 8. Create Missing Essential Files (PRIORITY 8)

- CHANGELOG.md
- SECURITY.md
- CODE_OF_CONDUCT.md
- .nvmrc (Node version)

### 9. Clean .github Directory (PRIORITY 9)

- Remove duplicate workflow files
- Archive old CI/CD attempts
- Ensure only active workflows remain

### 10. Final Root Directory Cleanup (PRIORITY 10)

Root should only contain:

```
.github/
packages/
client/
docs/
scripts/
logs/
.gitignore (fixed)
.gitattributes
README.md (fixed)
LICENSE
package.json
pnpm-workspace.yaml
lerna.json
tsconfig.json
jest.config.js
.env.template
```

## ðŸ”§ SYSTEMATIC CLEANUP APPROACH

### Phase 1: Analysis (First 30 minutes)

1. Run `dir /s /b > FULL_FILE_LIST.txt` to get complete file listing
2. Analyze each directory's purpose and contents
3. Identify all duplicates and obsolete files
4. Create cleanup plan with specific file operations

### Phase 2: Critical Fixes (Next 30 minutes)

1. Resolve ALL merge conflicts
2. Remove empty directories
3. Fix broken configurations
4. Update workspace files

### Phase 3: Organization (Next 45 minutes)

1. Move files to correct locations
2. Create proper directory structure
3. Archive historical files
4. Consolidate scripts

### Phase 4: Validation (Final 30 minutes)

1. Run `pnpm install` to verify workspace
2. Run `pnpm test` to ensure nothing broke
3. Verify all packages build correctly
4. Create final cleanup report

## ðŸ“‹ CLEANUP CHECKLIST

```markdown
## Root Directory Cleanup

- [ ] README.md merge conflicts resolved
- [ ] .gitignore merge conflicts resolved
- [ ] server-ts empty directory removed
- [ ] All temp files removed
- [ ] Only essential files remain in root

## Documentation Cleanup

- [ ] All PHASE\_\*.md files archived
- [ ] All STATUS\_\*.md files archived
- [ ] docs/archive/ properly organized
- [ ] Current docs updated and accurate

## Configuration Cleanup

- [ ] No duplicate config files
- [ ] All configs point to correct paths
- [ ] Workspace files match actual structure
- [ ] Environment templates updated

## Scripts Cleanup

- [ ] Scripts organized by category
- [ ] No duplicate scripts
- [ ] All scripts documented
- [ ] Package.json scripts updated

## External Dependencies

- [ ] external-repos evaluated
- [ ] Unused repos archived
- [ ] Active repos documented
- [ ] Size reduced where possible

## GitHub Cleanup

- [ ] Duplicate workflows removed
- [ ] Only active workflows remain
- [ ] Actions properly configured
- [ ] Templates updated

## Final Validation

- [ ] pnpm install succeeds
- [ ] pnpm test passes
- [ ] pnpm build works
- [ ] No TypeScript errors
```

## ðŸŽ¯ SUCCESS CRITERIA

The cleanup is ONLY complete when:

1. **NO merge conflicts** remain anywhere
2. **Root directory** contains only essential files
3. **All packages** build successfully
4. **Tests pass** without errors
5. **Documentation** is organized and current
6. **File count** is significantly reduced
7. **Directory structure** is clean and logical
8. **No duplicate** files or configs exist
9. **External dependencies** are justified
10. **Final report** documents all changes

## ðŸ’¡ IMPORTANT NOTES

1. **DO NOT** delete any source code without careful analysis
2. **PRESERVE** all game logic and implementations
3. **DOCUMENT** any uncertain decisions for review
4. **TEST** after each major change
5. **COMMIT** frequently with clear messages

## ðŸš€ START IMMEDIATELY

Begin with Phase 1 analysis and work systematically through each phase. The repository should be **completely clean** and **professionally organized** by the end of this session.

**Remember**: This is the FINAL cleanup. Be thorough, systematic, and complete. Every file and directory must be evaluated and properly handled.

---

_**Assistant**_

I'll conduct a comprehensive analysis of the RuneRogue repository to identify all files and directories that need cleanup. Let me start by examining the current state systematically. I'll conduct a comprehensive analysis of the RuneRogue repository to identify all files and directories that need cleanup. Let me start by examining the current state systematically. I'll conduct a comprehensive analysis of the RuneRogue repository to identify all files and directories that need cleanup. Let me start by examining the current state systematically. I'll conduct a comprehensive analysis of the RuneRogue repository to identify all files and directories that need cleanup. Let me start by examining the repository structure systematically. I'll conduct a comprehensive analysis of the RuneRogue repository to identify all files and directories that need cleanup. Let me start by examining the current state systematically. I'll conduct a comprehensive analysis of the RuneRogue repository to identify all files and directories that need cleanup. Let me start by examining the current state systematically. I'll execute a comprehensive repository cleanup for RuneRogue, working systematically through each phase. Let me start with Phase 1: Analysis. ## ðŸ§¹ Starting FINAL RuneRogue Repository Cleanup

I'll execute a systematic cleanup following the phases outlined. Let me start with **Phase 1: Analysis**.

### Phase 1: Analysis - Understanding Current State Good! I can see the `README.md` and .gitignore don't have merge conflicts as initially thought. Let me check if there are any empty directories and get a better understanding of the structure. Now let me check for empty files and identify files that need to be cleaned up: Perfect! Now I have a clear picture. Let me start **Phase 2: Critical Fixes**.

### Phase 2: Critical Fixes

#### 1. Remove Empty Files and Directories #### 2. Check and Remove node_modules (should be gitignored) #### 3. Create Proper Archive Structure for Historical Documents Now let me move historical files to their proper archive locations:

---

_**User**_

try again

---

_**Assistant**_

---

_**User**_

@agent Try Again

---

_**Assistant**_

I'll continue with the comprehensive cleanup systematically. Let me search for and organize the historical documentation files properly. Let me search specifically for the docs files that need to be archived: Now let me move these historical documents to the appropriate archive directories: Let me move the analysis documents to proper archive locations:

---

_**User**_

@agent Try Again

---

_**Assistant**_

Now let me check which workspace configuration files need attention: Good! The workspace configuration looks correct. Now let me check the `package.json` for any workspace configuration: Now let me check if there are any duplicate configuration files or unnecessary files in the scripts directory:

---

_**User**_

@agent Try Again

---

_**Assistant**_

Let me check the external-repos to see what can be cleaned up there: That's a significant number of external repositories. Let me check which ones are actually being used by searching for references in the codebase: Based on the search results, the external-repos are used for MCP (Model Context Protocol) development but may not be essential for the main game. Let me check the `cursor-mcp-complete.json` to see if it references these repos: I can see the `cursor-mcp-complete.json` does reference some of the mcp-repos. Let me update the paths to point to the external-repos directory:

```

```

Now let me check if there are any other references to fix in the file: I need to fix all the remaining mcp-repos references. Let me do this systematically: Let me read more of the cursor file to fix these individually: Let me fix all the references in a more targeted way by replacing each occurrence:

```

```

Let me continue with the remaining entries:

```

```

Great! Now let me create a comprehensive cleanup report and create the missing essential files. Let me check what's left to do:

---

_**User**_

@agent Try Again

---

_**Assistant**_

---
