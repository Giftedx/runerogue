<!-- Generated by SpecStory -->

# /fix  (2025-06-19 03:31:05)

_**User**_

/fix 

---

_**Assistant**_

Looking at the ESLint dependency installation script and the recent document showing the ESLint configuration file content in the wrong file, I can see there are several issues to fix:

1. The script needs to be made cross-platform (currently bash-only)
2. The ESLint configuration is incorrectly placed in `package.json` instead of `eslint.config.js`
3. The dependencies in the script should match what's already in the project

Here's my solution:

## Step-by-step Solution

1. **Create a cross-platform installation script** that works on both Windows and Unix systems
2. **Fix the ESLint configuration** by moving it to the correct file
3. **Update the script to check existing dependencies** before installing

## File Changes

### [install-eslint-deps.sh](file:///c%3A/Users/aggis/GitHub/runerogue/scripts/install-eslint-deps.sh)

Replace the bash script with a cross-platform Node.js script:

````javascript
#!/usr/bin/env node

const { execSync } = require('child_process');
const fs = require('fs');
const path = require('path');

/**
 * Install ESLint and related dependencies for the RuneRogue project
 * This script is cross-platform and works on Windows, macOS, and Linux
 */

console.log('üîß Installing ESLint dependencies...\n');

// Check if we're in the project root
const packageJsonPath = path.join(process.cwd(), 'package.json');
if (!fs.existsSync(packageJsonPath)) {
  console.error('‚ùå Error: package.json not found. Please run this script from the project root.');
  process.exit(1);
}

// Read current package.json to check existing dependencies
const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf8'));
const currentDevDeps = packageJson.devDependencies || {};

// Dependencies to install
const dependencies = [
  'eslint@^9.15.0',
  '@eslint/js@^9.15.0', 
  'typescript-eslint@^8.16.0',
  'eslint-config-prettier@^9.1.0',
  'globals@^15.12.0',
  '@types/node@^22.10.0'
];

// Check which dependencies are missing or outdated
const toInstall = dependencies.filter(dep => {
  const [name] = dep.split('@').filter(Boolean);
  return !currentDevDeps[name] && !currentDevDeps[`@${name}`];
});

if (toInstall.length === 0) {
  console.log('‚úÖ All ESLint dependencies are already installed!');
  process.exit(0);
}

console.log('üì¶ Installing the following dependencies:');
toInstall.forEach(dep => console.log(`  - ${dep}`));
console.log();

try {
  // Install dependencies
  const command = `pnpm add -D -w ${toInstall.join(' ')}`;
  console.log(`Running: ${command}\n`);
  
  execSync(command, { stdio: 'inherit' });
  
  console.log('\n‚úÖ ESLint dependencies installed successfully!');
  
  // Check if eslint.config.js exists
  const eslintConfigPath = path.join(process.cwd(), 'eslint.config.js');
  if (!fs.existsSync(eslintConfigPath)) {
    console.log('\n‚ö†Ô∏è  Warning: eslint.config.js not found. You may need to create it.');
    console.log('   Run: pnpm lint:fix to see if there are any configuration issues.');
  }
  
} catch (error) {
  console.error('\n‚ùå Error installing dependencies:', error.message);
  process.exit(1);
}
````

### [eslint.config.js](file:///c%3A/Users/aggis/GitHub/runerogue/eslint.config.js)

Fix the ESLint configuration file (currently it contains package.json content):

````javascript
// @ts-check

import eslint from "@eslint/js";
import tseslint from "typescript-eslint";
import prettierConfig from "eslint-config-prettier";
import globals from "globals";

export default tseslint.config(
  // ----------------------------------------------------------------
  // Global Ignores
  // ----------------------------------------------------------------
  {
    ignores: [
      "**/node_modules/**",
      "**/dist/**",
      "archives/**",
      "client/godot/**",
      "external-repos/**",
      "logs/**",
      "pnpm-lock.yaml",
      "*.log",
      "**/*.d.ts",
      "**/coverage/**",
      "**/.turbo/**",
      "**/.vite/**",
    ],
  },

  // ----------------------------------------------------------------
  // Base Recommende

---

